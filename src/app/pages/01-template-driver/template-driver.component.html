<form #form="ngForm">
  <ul>
    <li>
      name: <input type="text" name="name" [(ngModel)]="data.name" #nameControl="ngModel" required maxlength="10"
        minlength="3" appNameExistsAsyncValidator>

    </li>
    <li *ngIf="nameControl.errors">
      <ng-container *ngIf="nameControl.hasError('required')">
        name必须填写!
      </ng-container>
      <ng-container *ngIf="nameControl.hasError('maxlength')">
        maxlength!
      </ng-container>
      <ng-container *ngIf="nameControl.hasError('minlength')">
        minlength!
      </ng-container>
      <ng-container *ngIf="nameControl.hasError('nameExists')">
        nameExists!
      </ng-container>

    </li>
    <li>
      age: <select [(ngModel)]="data.age" name="age" #ageCntrol="ngModel" [appAgeGreaterthanValidator]="16">
        <option *ngFor="let item of ageArray" [value]="item">
          {{item}}
        </option>
      </select>
      {{ageCntrol.errors|json}}
    </li>
    <li *ngIf="ageCntrol.errors">
      <ng-container *ngIf="ageCntrol.hasError('greaterThen')">
        greaterThen!!
      </ng-container>

    </li>
  </ul>
  <button type="button" [disabled]="!form.valid">
    submit
  </button>

  <!-- <ul>
    <li>status:{{nameControl.status}}</li>
    <li>value:{{nameControl.value}}</li>
    <li [class.red]="nameControl.dirty">dirty:{{nameControl.dirty}}</li>
    <li [class.red]="nameControl.enabled">enabled:{{nameControl.enabled}}</li>
    <li [class.red]="nameControl.disabled">disabled:{{nameControl.disabled}}</li>
    <li [class.red]="nameControl.valid">valid:{{nameControl.valid}}</li>
    <li [class.red]="nameControl.invalid">invalid:{{nameControl.invalid}}</li>
    <li [class.red]="nameControl.pending">pending:{{nameControl.pending}}</li>
    <li [class.red]="nameControl.pristine">pristine:{{nameControl.pristine}}</li>
    <li [class.red]="nameControl.touched">touched:{{nameControl.touched}}</li>
    <li [class.red]="nameControl.untouched">untouched:{{nameControl.untouched}}</li>
  </ul> -->
</form>
